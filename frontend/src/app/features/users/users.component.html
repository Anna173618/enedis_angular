<div class="users-container">
  <h2 class="page-title">Discover People</h2>
  
  <nz-spin [nzSpinning]="isLoading">
    <div *ngIf="users.length === 0 && !isLoading" class="empty-users">
      <nz-empty nzDescription="No users found"></nz-empty>
    </div>
    
    <div nz-row [nzGutter]="[16, 16]">
      <div nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8" [nzLg]="6" *ngFor="let user of users">
        <nz-card class="user-card">
          <div class="user-card-content">
            <div class="user-avatar">
              <nz-avatar [nzSrc]="getProfileImageUrl(user)" nzSize="large"></nz-avatar>
            </div>
            <div class="user-info">
              <h3 class="user-name">
                <a [routerLink]="['/profile', user.id]">{{ user.firstName }} {{ user.lastName }}</a>
              </h3>
            </div>
            <div class="user-actions">
              <button 
                *ngIf="!followingMap[user.id]" 
                nz-button 
                nzType="primary" 
                nzSize="small" 
                (click)="followUser(user.id)"
              >
                <span nz-icon nzType="user-add"></span>
                Follow
              </button>
              <button 
                *ngIf="followingMap[user.id]" 
                nz-button 
                nzType="default" 
                nzSize="small" 
                (click)="unfollowUser(user.id)"
              >
                <span nz-icon nzType="user-delete"></span>
                Unfollow
              </button>
            </div>
          </div>
        </nz-card>
      </div>
    </div>
  </nz-spin>
</div>
